# On-Chain Proofs

ブロックチェーンは、最も基本的なレベルでは、台帳以外の何ものでもありません。台帳は、物事が時間の経過とともにどのように変化してきたかという歴史を記録し、それらの変化のすべてを組み合わせることで現在の「状態」を得ることができます。Solanaは、「アカウント」とその「状態」がすべてです。

「状態」とはどういうことでしょうか？コンピュータを例にとると...コンピュータの中身はすべて0と1です。ビットは0か1かを記憶するもので、記憶装置の最小構成要素です。**ビットが1であれば、現在の状態は1であり、ビットが0であれば、現在の状態は0である** そのビットは0か1のいずれかであり、そのビットの歴史は、そのビットの状態が現在0か1であるかに関係しません。

次に、ソラナの特徴として、すべてを「アカウント」として構成していることが挙げられます。これは重要な用語なので、ここで定義を説明します：

{% code overflow="wrap" %}
```
Accounts
トランザクション間の状態の保存
プログラムがトランザクション間の状態を保存する必要がある場合、アカウントを使用して保存します。アカウントは、Linuxなどのオペレーティングシステムにおけるファイルに似ており、プログラムのライフタイムを超えて持続する任意のデータを保持することができます。また、ファイルのように、アカウントには、誰がどのようにデータにアクセスすることを許可されているかをランタイムに伝えるメタデータが含まれています。

ファイルとは異なり、アカウントにはファイルの寿命のためのメタデータが含まれています。その寿命は、lamportsと呼ばれる分数のネイティブトークンの数で表されます。アカウントはバリデータのメモリに保持され、そこに留まるために「家賃」を支払う。各バリデータは定期的に全アカウントをスキャンし、賃料を徴収する。lamportsがゼロになったアカウントはすべてパージされる。また、十分な数のlamportsがある場合、アカウントは家賃免除とすることもできる。

Linuxユーザーがファイルを調べるのにパスを使うのと同じように、Solanaクライアントはアカウントを調べるのにアドレスを使う。このアドレスは256ビットの公開鍵です。
```
{% endcode %}

状態を思い返してみると、ソラナのアカウントの歴史は、現在の状態とは全く関係ない。なぜか？なぜなら、現在の状態に至るまでに起こったすべての出来事は、Proof of Historyのコンセンサスメカニズム（＝Solana Validatorネットワーク）によってレビューされ、有効であると判断されたからです。

すべてを結びつけると、Solanaが本当に達成し、コンセンサスを維持するために構築されているのは、ネットワーク上のすべての口座の状態です。**実は、「世界で最もパフォーマンスの高いグローバル・ステート・マシン」**は、まさにSolanaが自分自身を説明する方法です。

Solanaの現在の状態はすでにハッシュ化されていますが、その後シュレッダーにかけられ、ネットワークのすべてのバリデーターで分散化されます。つまり、Solanaはブロックチェーン上のすべてのデータ...すべてのウォレットアドレス、デプロイされたすべてのプログラム、すべてのトークンの場所...の現在の状態を瞬時に再現することができるのです...現在の状態に至るまでの過去の取引について何も知る必要は**ありません**。

さて、過去の取引はソラナ上のすべてのアカウントの現在の「その瞬間」の状態とは無関係だからといって（現在に至るまでのすべてのイベントはソラナバリデーターネットワークを通過しなければならず、したがって現在の状態に至ったコンセンサスの一部であるから）、過去の取引がソラナ上で行動を行う**開発者やユーザー**にとって重要ではないというわけではありません。

ここで、一周してシャドードライブに話を戻します。シャドードライブは、世界で最もパフォーマンスの高いステートマシンを利用し、オンチェーンチェンジイベントによってストレージネットワークの状態の有効性と完全性を確保します。

実際の言葉で説明するのが一番わかりやすいので、例を挙げますと...。
例えば、NFTのメタデータをShadow Driveにアップロードし、そのデータを永久に保存し、不変にしたいとします。

1. NFTプロジェクトは、NFTメタデータをShadow Driveにアップロードします。NFTプロジェクトは、このメタデータを永久に保存し、不変であることを希望しています。
2. NFTプロジェクトのクリエイターからのこれらの指示はShadow Driveのスマートコントラクトに渡され、スマートコントラクトはNFTプロジェクトのウォレットによって署名されたトランザクション要求をSolanaバリデーターに送信します。
3. アカウントハッシュがチェーン上に作成され、メタデータがどのNFTプロジェクトに関連しているか、このメタデータが不変であること、永久に保存されることが示されます。
4. このハッシュと実際のNFTメタデータそのものは再度ハッシュ化され、シャード化され、スマートコントラクトによって適切な保存形式と場所にあるシャドウドライブにアップロードされます。

この設計では、Shadow Driveスマートコントラクトは、保存されたデータに関連するウォレットからの署名のみを認識します。この例では、Shadow Driveで不変と記載されたデータを変更する取引要求は、Solanaバリデーターによる検証に失敗することになります。これは、データが不変であるため編集や削除ができないことを理由に、スマートコントラクトがこのデータの編集や削除の指示を一切通さないためです。

[**Shadow Drive Smart Contract**](smart-contracts.md)のセクションでは、シャドードライブ スマートコントラクトがソラナバリデータネットワークとどのようにやり取りし、現在の状態（つまりデータの完全性）を確実に維持するかを詳しく解説していきます。
